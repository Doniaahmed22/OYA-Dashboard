<div class="pad-top" [@fadeIn]>

    <div class="row border rounded shadow-sm white">
        <div class="col-2 d-flex align-items-center py-2 px-3  fw-bold ">
            <h3 class="p-0 m-0 fw-bold text">CartId</h3>
        </div>

        <div class="col-3 d-flex align-items-center py-2 px-3  fw-bold ">
            <h3 class="p-0 m-0 fw-bold text">Total</h3>
        </div>

        <div class="col-3 d-flex align-items-center py-2 px-3  fw-bold ">
            <h3 class="p-0 m-0 fw-bold text">TotalDisc</h3>
        </div>

        <div class="col-2 d-flex align-items-center py-2 px-3  fw-bold ">
            <h3 class="p-0 m-0 fw-bold text">UserId</h3>
        </div>

        <!-- زر التحكم -->
        <div class="col-2 d-flex justify-content-end align-items-center py-2 px-3 ">
            <h3 class="p-0 m-0 fw-bold text"></h3>
        </div>

    </div>
    
    <div class="row border rounded shadow-sm text white" *ngFor="let cart of userCart">
        <!-- اسم الفئة -->
        <div class="col-2 d-flex align-items-center py-2 px-3  innerText ">
            {{ cart.id }}
        </div>

        <div class="col-3 d-flex align-items-center py-2 px-3  innerText ">
            {{ cart.total }}
        </div>

        <div class="col-3 d-flex align-items-center py-2 px-3  innerText ">
            {{ cart.discountedTotal }}
        </div>

        <div class="col-2 d-flex align-items-center py-2 px-3  innerText ">
            {{ cart.userId }}
        </div>


        <!-- زر التحكم -->
        <div class="col-2 d-flex justify-content-end align-items-center py-2 px-3 innerText">
            <button mat-icon-button class="toggle-btn innerText" (click)="toggleProducts(cart)">
                <mat-icon class="innerText">{{ cart.isOpen ? 'expand_less' : 'expand_more' }}</mat-icon>
            </button>
        </div>

        <!-- المنتجات -->
        <div *ngIf="cart.isOpen" class="products w-100 px-3 py-2">
            <!-- العناوين -->
            <div class="row text-white py-2 rounded bg-text">
                <div class="col-3 text-center innerText2">Image</div>
                <div class="col-2 text-center innerText2">Title</div>
                <div class="col-2 text-center innerText2">Price</div>
                <div class="col-2 text-center innerText2">Quantity</div>
                <div class="col-2 text-center innerText2">Total</div>
                <!-- <div class="col-3 text-center innerText2"></div> -->
            </div>

            <!-- العناصر -->
            <div class="row py-3 border-bottom" *ngFor="let product of cart.products">
                <div class="col-3 text-center align-self-center">
                    <img [src]="product.thumbnail" alt="Thumbnail" class="img-fluid w-100 h-75 rounded" />
                </div>
                <div class="col-2 text-center align-self-center">
                    <span class="innerText cutword">{{ product.title | cuttext:2}}</span>
                </div>
                <div class="col-2 text-center align-self-center">
                    <span class="innerText cutword">{{ product.price }}</span>
                </div>
                <div class="col-2 text-center align-self-center">
                    <span class="innerText">{{ product.quantity }}</span>
                </div>
                <div class="col-2 text-center align-self-center">
                    <span class="innerText">{{ product.total | number:'1.2-2' }}</span>
                </div>
                <!-- <div class="col-3 align-self-center">
                    <button class="btn edit-btn btn-sm mx-1" (click)="editProduct(product.id)">Edit</button>
                    <button class="btn btn-outline-danger btn-sm mx-1 del-btn"
                        (click)="deleteProduct(product.id)">Delete</button>
                </div> -->
            </div>

            <div class="row py-3">
                <div class="col-2 text-center align-self-center">
                    <h3 class="p-0 m-0">total Quantity</h3>

                </div>
                
                <div class="col-3 text-center align-self-center">
                    <span class="p-0 m-0">{{ cart.totalQuantity  }}</span>
                </div>

                <div class="col-2"></div>
                
                <div class="col-2 text-center align-self-center">
                    <h3 class="p-0 m-0">total Price</h3>
                </div>

                <div class="col-3 text-center align-self-center">
                    <span class="p-0 m-0">{{ cart.total | number:'1.2-2'}}</span>
                </div>
            </div>
        </div>
    </div>
</div>